<!--editor-->
<div
  #editor
  mouseEvents
  [petsDragdrop]="dragdrop"
  (contextEvent)="contextEvent($event); ctxTargetElement = $any($event).target"
  (clickEvent)="contextEvent(); clickTargetElement = $any($event).target"
  class="editor">
</div>
<!--editor-->

<!--contextmenu-->
<div
  #contextPanel
  class="contextmenu"
  [ngStyle]="contextMenuStyles">
  <div class="contextmenu__item"
       (click)="ctxActionHandler(contextMenuEnum.addDiv)">
    Add Division tag
  </div>
  <div class="contextmenu__item"
       (click)="ctxActionHandler(contextMenuEnum.cloneNode)">
    Clone Node
  </div>
  <div class="contextmenu__item"
       (click)="ctxActionHandler(contextMenuEnum.addNode)">
    Add Node
  </div>
  <div class="contextmenu__item"
       (click)="ctxActionHandler(contextMenuEnum.deleteNode)">
    Delete Node
  </div>
</div>
<!--contextmenu-->

<!--tags modal-->
<div *ngIf="modal"
     #modal
     (keydown.enter)="selectNode(modal)"
     (keydown.arrowDown)="hoverNode(modal)"
     (keydown.arrowUp)="hoverNode(modal, true)"
     (keydown.escape)="closeNodeModal()" class="tags-modal">
  <div  (click)="closeNodeModal()" class="tags-modal__close">+</div>
  <input #nodeSearch (input)="nodeSearch$.next(nodeSearch.value)" type="text">
  <div *ngIf="relevantNodes.length" class="tags-modal__results">
    <div (click)="createNode(node, ctxTargetElement)"
         *ngFor="let node of relevantNodes">
      {{node}}
    </div>
  </div>
</div>
<!--tags modal-->
