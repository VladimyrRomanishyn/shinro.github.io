<div class="editorStyles">
  <div class="accordion">
    <ng-container [ngSwitch]="section?.value" class="accordion__panel">
      <ng-container *ngIf="section">
        <ng-container *ngTemplateOutlet="header; context: {$implicit: section}"></ng-container>
      </ng-container>
      <ng-container *ngSwitchCase="sectionsEnum.boxModel">
        <ng-container *ngTemplateOutlet="boxModel"></ng-container>
      </ng-container>
      <ng-container *ngSwitchCase="sectionsEnum.grid">
        <ng-container *ngTemplateOutlet="grid"></ng-container>
      </ng-container>
      <ng-container *ngSwitchCase="sectionsEnum.flex">
        <ng-container *ngTemplateOutlet="flex"></ng-container>
      </ng-container>
      <ng-container *ngSwitchDefault>
        <ng-container *ngTemplateOutlet="accordionList"></ng-container>
      </ng-container>
    </ng-container>
  </div>
</div>

<ng-template #boxModel>
  <div class="box-model">
    <ng-container *ngIf="target">
      <form [formGroup]="stylesForm" class="property">
        <p-inputSwitch formControlName="metricsEditable"></p-inputSwitch>
        <div formGroupName="width">
          <input [attr.disabled]="stylesForm.get('metricsEditable')?.value ? null : false"
                 formControlName="pixels" type="number">

          <p-slider [disabled]="!stylesForm.get('metricsEditable')?.value"
                    formControlName="percentage" [min]="0" [max]="100"></p-slider>
        </div>

        <div formGroupName="height">
          <input [attr.disabled]="stylesForm.get('metricsEditable')?.value ? null : false"
                 formControlName="pixels" type="number">

          <p-slider [disabled]="!stylesForm.get('metricsEditable')?.value"
                    formControlName="percentage" [min]="0" [max]="100"></p-slider>
        </div>
      </form>
    </ng-container>
  </div>
</ng-template>

<ng-template #grid>
  <div class="property">
    <label>
      Block
      <input (change)="displayEvent($event)"
             [(ngModel)]="display" value="block" type="radio">
    </label>
    <label>
      Flex
      <input (change)="displayEvent($event)"
             [(ngModel)]="display" value="flex" type="radio">
    </label>
    <label>
      Grid
      <input (change)="displayEvent($event)"
             [(ngModel)]="display" value="grid" type="radio">
    </label>
  </div>
</ng-template>

<ng-template #flex>
  <div>flex</div>
</ng-template>

<ng-template #accordionList>
  <div class="accordion__list">
    <ng-container *ngFor="let item of sections" >
      <div (click)="section = item" class="accordion__list-item">
        {{item.name}}
      </div>
    </ng-container>
  </div>
</ng-template>

<ng-template #header let-sectionItem>
  <div class="accordion__panel-header">
    <div class="accordion__back-button" (click)="section = null"> <-- </div>
    <div>{{sectionItem.name}}</div>
  </div>
</ng-template>
